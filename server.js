!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("uuid"),require("object.values"));else if("function"==typeof define&&define.amd)define(["uuid","object.values"],t);else{var o="object"==typeof exports?t(require("uuid"),require("object.values")):t(e.uuid,e["object.values"]);for(var r in o)("object"==typeof exports?exports:e)[r]=o[r]}}(this,function(e,t){return function(e){function __webpack_require__(o){if(t[o])return t[o].exports;var r=t[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.p="",__webpack_require__(0)}([function(e,t,o){"use strict";function createOutputHandler(e){"function"==typeof this.transport[e]&&(this[e]=function(t,o){var r=new s({channel:n.EVENT},!0);r.url=t,r.body=o,this.transport[e](n.EVENT,r)})}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=o(2),i=o(3),s=o(10),c=["send","broadcast"],u=e.exports=function Server(e,t){var o=this;if("object"!==("undefined"==typeof e?"undefined":r(e)))throw new TypeError("Server.constructor() expects transport to be an object");if("object"!==("undefined"==typeof t?"undefined":r(t)))throw new TypeError("Server.constructor() expects router to be an object");if("function"!=typeof t.handle)throw new TypeError("Server.constructor() expects router to implement the method .handle()");return this instanceof Server?(this.router=t,this.transport=e,c.forEach(function(e){createOutputHandler.call(o,e)}),this.transport.on(n.HTTP,function(e,t){var r=new s({channel:n.HTTP,sender:e.sender});r.id=t.id,o.router.handle(t,r)}),this):new Server(e,t)};i.concat(["all","use","debug"]).forEach(function(e){u.prototype[e]=function(){var t;if("function"==typeof this.router[e])return(t=this.router)[e].apply(t,arguments)}})},function(t,o){t.exports=e},function(e,t){"use strict";e.exports={HTTP:"@@PERANTA_HTTP",EVENT:"@@PERANTA_EVENT",CONNECT:"@@PERANTA_CONNECT"}},function(e,t){"use strict";e.exports=["get","post","put","delete"]},,,,,,,function(e,t,o){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=o(1),i=o(2),s=o(11),c=e.exports=function(e,t){if("object"!==("undefined"==typeof e?"undefined":r(e)))throw new TypeError("Response.constructor() expects the argument ipc to be an object");if(!e.hasOwnProperty("channel"))throw new TypeError("Response.constructor() expects the argument ipc to contain the property 'channel'");if(!s(i).includes(e.channel))throw new TypeError("Response.constructor() expects a supported ipc.channel");if(e.channel===i.HTTP&&(!e.hasOwnProperty("sender")||"function"!=typeof e.sender.send))throw new TypeError("Response.constructor() expects ipc.sender.send to be a function when ipc.channel is 'HTTP'");return this.id=t===!0?n.v4():void 0,this.statusCode,this.ipc=e,this};c.prototype.status=function(e){return this.statusCode=e,this},c.prototype.send=function(e){this.body=e,this.status=this.statusCode,this.ipc.sender.send(this.ipc.channel,this)}},function(e,o){e.exports=t}])});