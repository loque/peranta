!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("array-flatten"),require("path-to-regexp"));else if("function"==typeof define&&define.amd)define(["array-flatten","path-to-regexp"],t);else{var r="object"==typeof exports?t(require("array-flatten"),require("path-to-regexp")):t(e["array-flatten"],e["path-to-regexp"]);for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(this,function(e,t){return function(e){function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.p="",__webpack_require__(0)}([function(e,t,r){(function(t){"use strict";function checkForwardSlashes(e){return"/"!==e&&(e.endsWith("/")&&(e=e.slice(0,-1)),e.startsWith("/")||(e="/"+e)),e}var n=r(7),o=r(3),i=r(8),u=e.exports=function Router(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";if("string"!=typeof e)throw new TypeError("Router.constructor() requires prefix to be a string");return this instanceof Router?(this.prefix=checkForwardSlashes(e),this.routes=[],this.end=function(){},this):new Router(e)};o.concat("all").forEach(function(e){u.prototype[e]=function(r){for(var o=arguments.length,u=Array(o>1?o-1:0),a=1;a<o;a++)u[a-1]=arguments[a];if(u=n(u),"string"!=typeof r)throw new TypeError("Router."+e+"() requires a path as the first parameter");if(!u.length)throw new TypeError("Router."+e+"() requires at least one function");if(!u.every(function(e){return"function"==typeof e}))throw"production"!==t.env.NODE_ENV&&(console.log("path",r),console.log("fns",u),console.log("method",e)),new TypeError("Router."+e+'() requires middlewares to be of type "function"');r=checkForwardSlashes(r);var s=new i(this,e,r);return s.setHandlers(u),this.routes.push(s),this}}),u.prototype.use=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];t=n(t);var o="string"==typeof t[0]?checkForwardSlashes(t.shift()):"/";if(!t.length)throw new TypeError("Router.use() requires middleware functions");if(!t.every(function(e){return"function"==typeof e}))throw new TypeError('Router.use() requires middlewares to be of type "function"');var u=new i(this,"use",o,{end:!1});u.setHandlers(t),this.routes.push(u)},u.prototype.handle=function(e,t,r){function next(){if(n.routeIdx>=n.routes.length)return n.end(e,t);var r=n.routes[n.routeIdx],o=r.match(e.method,e.path);return n.routeIdx++,o?void r.handle(e,t,next):next()}var n=this;this.routeIdx=0,next()},u.prototype.setPrefix=function(e){this.prefix=checkForwardSlashes(e)},u.prototype.debug=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={prefix:this.prefix,routes:this.routes.map(function(e){return e.debug()})};return e?JSON.stringify(t):t},u.prototype.middleware=function(){function routerAsMiddleware(t,r,n){return e(t,r,n)}var e=this.handle.bind(this);return routerAsMiddleware.debug=this.debug.bind(this),routerAsMiddleware.setPrefix=this.setPrefix.bind(this),routerAsMiddleware}}).call(t,r(6))},,,function(e,t){"use strict";e.exports=["get","post","put","delete"]},,,function(e,t){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(r===setTimeout)return setTimeout(e,0);if((r===defaultSetTimout||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function runClearTimeout(e){if(n===clearTimeout)return clearTimeout(e);if((n===defaultClearTimeout||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}function cleanUpNextTick(){a&&i&&(a=!1,i.length?u=i.concat(u):s=-1,u.length&&drainQueue())}function drainQueue(){if(!a){var e=runTimeout(cleanUpNextTick);a=!0;for(var t=u.length;t;){for(i=u,u=[];++s<t;)i&&i[s].run();s=-1,t=u.length}i=null,a=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var r,n,o=e.exports={};!function(){try{r="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){r=defaultSetTimout}try{n="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){n=defaultClearTimeout}}();var i,u=[],a=!1,s=-1;o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new Item(e,t)),1!==u.length||a||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=noop,o.addListener=noop,o.once=noop,o.off=noop,o.removeListener=noop,o.removeAllListeners=noop,o.emit=noop,o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,r){t.exports=e},function(e,t,r){"use strict";function isRouter(e){return"string"==typeof e.prefix&&(!!Array.isArray(e.routes)&&"function"==typeof e.end)}function createPathMatcher(e,t){return t=t||{},function(r,o){var i=e(),u=[];o=o||{};var a=n(i,u,t),s=a.exec(r);if(null===s)return!1;var h=s.shift();return u.forEach(function(e,t){o[e.name]=s[t]}),{match:h,params:o}}}function prefixPath(e,t){return"/"===e?t:(t.endsWith("/")&&(t=t.slice(0,-1)),""+t+e)}var n=r(9),o=r(3),i=r(10),u=e.exports=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(isRouter(e)===!1)throw new TypeError("Route.constructor() expects router to be an instance of Router");if(!o.concat(["all","use"]).includes(t))throw new TypeError("Route.constructor() method argument is invalid");if("string"!=typeof r)throw new TypeError("Route.constructor() requires path to be a string");return this.router=e,this.method=t,this.path=r,this.params={},this.matchingUrl,this.pathMatcher=createPathMatcher(this.getPath.bind(this),n),this.handlers=[],this.handlerIdx,this};u.prototype.getPath=function(){return prefixPath(this.path,this.router.prefix)},u.prototype.setHandlers=function(e){var t=this;this.handlers=e.map(function(r,n){var o=n===e.length-1&&r.length<3?"callback":"middleware";if(r.hasOwnProperty("setPrefix")){if("use"!==t.method)throw new Error("Router.setHandlers() can only accept a router-as-middleware only when created by .use()");r.getRoutePrefix=t.getPath.bind(t)}return new i(o,r)})},u.prototype.match=function(e,t){if(this.method!==e&&"all"!==this.method&&"use"!==this.method)return!1;var r=this.pathMatcher(t);return r!==!1&&(this.matchingUrl=r.match,this.params=r.params,!0)},u.prototype.handle=function(e,t,r){function next(o){if("route"===o)return r();if(n.handlerIdx>=n.handlers.length)return r();var i=n.handlers[n.handlerIdx];n.handlerIdx++,t.next=next,i.run(e,t,next)}e.params=this.params,this.handlerIdx=0;var n=this;next()},u.prototype.debug=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={path:this.getPath(),method:this.method,handlers:this.handlers.map(function(e){return e.debug()})};return e?JSON.stringify(t):t}},function(e,r){e.exports=t},function(e,t){"use strict";var r=e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("Handler.constructor() requires type to be a string");if("function"!=typeof t)throw new TypeError("Handler.constructor() requires handler to be of type function");return this.type="routerAsMiddleware"===t.name?"router":e,this.handler=t,this};r.prototype.debug=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setPrefix();var t=void 0;return t="router"===this.type?this.handler.debug():{type:this.type,name:this.handler.name||"<anonymous>",arguments:this.handler.length},e?JSON.stringify(t):t},r.prototype.run=function(e,t,r){this.setPrefix(),this.handler(e,t,r)},r.prototype.setPrefix=function(){"router"===this.type&&this.handler.hasOwnProperty("setPrefix")&&this.handler.hasOwnProperty("getRoutePrefix")&&this.handler.setPrefix(this.handler.getRoutePrefix())}}])});